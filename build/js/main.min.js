"use strict";$(document).ready(function(){var t=$(".main-slider");0<t.length&&t.slick({dots:!0,arrows:!1});$(".burger").on("click",function(){$(this).toggleClass("on"),$(".top-line").toggleClass("on")}),$(".mobile-menu__arrow").on("click",function(){var t=$(this).closest(".mobile-menu__item--has-child"),a=t.find(".mobile-menu__sub");t.toggleClass("on"),a.slideToggle()});var a=0,i=($(window).on("scroll",function(){var t=$(this).scrollTop();a<t?$(".main-navbar-fix").addClass("off"):$(".main-navbar-fix").removeClass("off"),t<=0&&$(".main-navbar-fix").removeClass("off"),a=t}),$(".select-address-js")),t=$(".select-address__item");0<i.length&&(i.slick({slidesToShow:6,slidesToScroll:1,infinite:!1,variableWidth:!0,accessibility:!0,responsive:[{breakpoint:768,settings:{variableWidth:!0,slidesToShow:3}},{breakpoint:480,settings:{focusOnSelect:!0,centerMode:!0,initialSlide:3}}]}).mousewheel(function(t){t.preventDefault(),t.deltaY<0?$(this).slick("slickNext"):$(this).slick("slickPrev")}),i.on("beforeChange",function(t,a,i,o){$('.select-address__item[data-slick-index="'+o+'"]').find('input[type="radio"]').focus().prop("checked",!0)}),i.find(".slick-arrow").on("click",function(){$(this).attr("aria-disabled");var t=i.find(".slick-next"),a=$(".slick-prev");t.hasClass("slick-disabled")&&(t.css({visibility:"hidden"}),a.css({visibility:"visible"})),a.hasClass("slick-disabled")&&(a.css({visibility:"hidden"}),t.css({visibility:"visible"}))}),t.each(function(){$(this).hasClass("slick-current")&&$(this).find('input[type="radio"]').prop("checked",!0)}),t.on("click",function(){$(this).addClass("slick-current"),$(this).siblings().removeClass("slick-current"),$("slick-current").find("input[type='radio']").focus()}));0<$("#contact-map").length&&(window.createMap=function(i){ymaps.ready(function(){var r=new ymaps.Map("contact-map",{center:[50.447472,30.503022],controls:[]},{suppressMapOpenBlock:!0});function a(t,a,i){var o=new ymaps.GeoObjectCollection(null,{iconLayout:"default#image",iconImageHref:"img/ico-map.svg"});$(".contact-map__city").text(a),$(".contact-map__list").html("");for(var e=0,n=t[a].length;e<n;e++)!function(a,t){void 0!==a.name&&$('<div class="contact-map__item"><a class="contact-map__geo" href="#" data-id="'+a.id+'">'+a.name+"</a></div>").appendTo(".contact-map__list");var i=new ymaps.Placemark(a.center,{hintContent:a.name,opacity:0},{visible:!0});t.add(i),$("body").on("click",".contact-map__geo",function(t){t.preventDefault();t=$(this).data("id");i.options.set("visible",!1),a.id==t&&(!0===i.options._options.visible?i.options.set("visible",!1):i.options.set("visible",!0))})}(t[a][e],o);var s=t[a][0].setCenterMap,l=t[a][0].setCenterMapMobile;function c(){$(window).innerWidth()<=767?r.setCenter(l,12):r.setCenter(s,i)}r.geoObjects.removeAll(),r.geoObjects.add(o),c(),$(window).on("resize",function(){c()})}$('.select-address__item input[type="radio"]').on("change",function(){var t=$(this).val();console.log(i),a(i,t,13)}),a(i,"Киров",13)})}),$(".search-show").on("click",function(){$(".top-line__search").toggleClass("open")}),$(".search__hide").on("click",function(){$(".top-line__search").removeClass("open")});var t=$(".select-city"),o=$(".select-city__current-name"),t=(t.on("click",function(){$(this).find(".select-city__list").toggleClass("open")}),t.find(".select-city__name").on("click",function(){o.text($(this).text())}),$(".gallery-fancybox")),t=(0<t.length&&(t.on("click",function(){var t=$(this).data("img"),a=$(this).data("title"),i=$("#gallery-modal");i.find(".gallery-modal__img").attr("src",t),i.find(".gallery-modal__title").text(a),$.fancybox.open({src:"#gallery-modal",autoSize:!0,loop:!0})}),$(".gallery-modal__close").on("click",function(){$.fancybox.close()})),$(".catalog-fancybox")),h=$("#catalog-modal");0<t.length&&$("body").on("click",".catalog-fancybox",function(){var a=h.find(".catalog-modal__title"),i=h.find(".catalog-modal__price span"),o=h.find(".catalog-modal__price-descr span"),e=h.find(".catalog-modal__img img"),n=h.find(".catalog-modal__container"),s=$(this).attr("data-load"),t=h.find(".catalog-modal__nav"),l=h.find(".catalog-modal__thumbs"),c=$(this).closest(".catalog-grid__col").next().find(".catalog-fancybox"),r=$(this).closest(".catalog-grid__col").prev().find(".catalog-fancybox"),d='<a class="catalog-modal__next" href="#">К следующему проекту</a>',u='<a class="catalog-modal__prev" href="#">К предыдущему проекту</a>',f=void 0!==c.attr("data-load"),m=void 0!==r.attr("data-load");f&&m?t.html(u+d):!m&&f?t.html(d):m&&!f?t.html(u):t.html(""),t.find(".catalog-modal__next").on("click",function(){c.trigger("click")}),t.find(".catalog-modal__prev").on("click",function(){r.trigger("click")}),void 0!==s&&($.fancybox.close({src:"#catalog-modal"}),$.fancybox.open({src:"#catalog-modal",fullScreen:{autoStart:!0},opts:{beforeShow:function(){n.css({opacity:0})},afterShow:function(t){$.ajax({type:"GET",url:s,dataType:"json",success:function(t){a.html(t.title),i.html(t.price),o.html(t.price_time),e.attr("src","http://virazh.h6.srv43.ru"+t.photo[0].original),l.html(""),t.photo.map(function(t,a){l.append('<div class="catalog-modal__thumbs-item '+(0===a?"slick-current":"")+'"><a class="catalog-modal__thumbs-link" href="http://virazh.h6.srv43.ru'+t.original+'"><img src="http://virazh.h6.srv43.ru'+t.thumb+'"/></a></div>')});t=l.find(".catalog-modal__thumbs-item");0<t.length&&(t.on("click",function(t){t.preventDefault(),$(this).addClass("slick-current").siblings().removeClass("slick-current"),e.attr("src",$(this).children().attr("href"))}),l.slick({infinite:!1,slidesToShow:3,slidesToScroll:1,vertical:!0,focusOnSelect:!0,prevArrow:'<button type="button" class="catalog-modal__thumbs-prev">Previous</button>',nextArrow:'<button type="button" class="catalog-modal__thumbs-next">Next</button>',responsive:[{breakpoint:1199,settings:{vertical:!1,slidesToShow:3,slidesToScroll:1,prevArrow:'<button type="button" class="catalog-modal__thumbs-prev red">Previous</button>',nextArrow:'<button type="button" class="catalog-modal__thumbs-next red">Next</button>'}},{breakpoint:480,settings:{vertical:!1,slidesToShow:2,slidesToScroll:1,prevArrow:'<button type="button" class="catalog-modal__thumbs-prev red">Previous</button>',nextArrow:'<button type="button" class="catalog-modal__thumbs-next red">Next</button>'}}]}),l.on("beforeChange",function(t,a,i,o){o=$(this).find("[data-slick-index="+o+"] a").attr("href");e.attr("src",o)}),l.slick("setPosition")),e.on("load",function(){n.css({opacity:1}),e.css({opacity:1})})}})}}})),$(".catalog-modal__close").on("click",function(){$.fancybox.close(),l.slick("unslick")}),l.slick("unslick")}),$(".video-play-js").on("click",function(t){if(t.preventDefault(),$(this).hasClass("open"))return!1;t='<iframe src="'+$(this).data("video")+'?autoplay=1" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>';$(this).addClass("open"),$(this).find(".video-iframe-js").html(t)}),$("a[href^='#nav']").on("click",function(){var t=$(this).attr("href");return $("html, body").animate({scrollTop:$(t).offset().top+"px"}),!1})});
//# sourceMappingURL=main.min.js.map
