{"version":3,"sources":["main.js"],"names":["$","document","ready","mainSlider","length","dots","arrows","on","toggleClass","closest","thisParentItem","find","slideToggle","subMenu","lastScrollTop","selectAddress","window","st","this","scrollTop","addClass","removeClass","selectAddressItem","variableWidth","accessibility","slidesToShow","slidesToScroll","infinite","settings","responsive","breakpoint","focusOnSelect","centerMode","mousewheel","preventDefault","initialSlide","e","deltaY","slick","btnNext","hasClass","event","currentSlide","nextSlide","focus","prop","btnPrev","attr","css","visibility","siblings","contactMap","ymaps","zoomMap","myMap","modal","groups","Map","center","GeoObjectCollection","controls","suppressMapOpenBlock","createMenuGroup","cityName","geoZoomMap","collection","geoObjects","removeAll","iconLayout","iconImageHref","text","setCenterMapMobile","html","j","m","options","id","item","name","placemark","appendTo","Placemark","hintContent","opacity","visible","data","set","_options","createSubMenu","setCenterMap","centerMap","submenuItem","setCenter","add","selectCity","selectCurrent","val","console","log","windowTitle","gallFancybox","windowPriceDate","windowImg","windowNav","windowThumbs","catalogModal","isAttrDataLoadPrev","catalogFancybox","isAttrDataLoadNext","nextPage","title","src","open","isNextPage","autoSize","loop","fancybox","windowInfo","afterShow","windowPrice","ajax","url","windowData","dataType","success","next","isPrevPage","prev","prevPage","catalogModalThumb","trigger","close","fullScreen","autoStart","opts","beforeShow","instance","type","price","price_time","photo","original","map","index","append","thumb","children","vertical","prevArrow","nextArrow","videoTag","_href","animate","hrefBigSlide","offset","top"],"mappings":"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","file":"main.min.js","sourcesContent":["$(document).ready(function(){ \r\n\r\n\t//Слайдер на главной\r\n\tvar mainSlider = $('.main-slider');\r\n\r\n\tif(mainSlider.length > 0) {\r\n\t\tmainSlider.slick({\r\n\t\t\tdots: true,\r\n\t\t\tarrows: false\r\n\t\t});\r\n\t} \r\n\r\n\t//Кнопка бургера\r\n\tvar burger = $('.burger');\r\n\r\n\tburger.on('click', function(){\r\n\t\t$(this).toggleClass('on');\r\n\t\t$('.top-line').toggleClass('on');\r\n\t});\r\n\r\n\t//Мобильное меню slideUp\r\n\t$('.mobile-menu__arrow').on('click', function(){\r\n\t\tvar thisParentItem = $(this).closest('.mobile-menu__item--has-child');\r\n\t\tvar subMenu = thisParentItem.find('.mobile-menu__sub');\r\n\t\tthisParentItem.toggleClass('on');\r\n\t\tsubMenu.slideToggle();\r\n\t});\r\n \r\n\r\n\t//Скрытие меню при прокрутке\r\n\tvar lastScrollTop = 0;\r\n\t$(window).on('scroll', function () {\r\n\t  var st = $(this).scrollTop();\r\n\r\n\t  if (st > lastScrollTop) {\r\n\t      $('.main-navbar-fix').addClass('off');\r\n\t  } else {\r\n\t      $('.main-navbar-fix').removeClass('off');\r\n\t  }\r\n\r\n\t  if (st <= 0) {\r\n\t    $('.main-navbar-fix').removeClass('off');\r\n\t  }\r\n\r\n\t  lastScrollTop = st;\r\n\t});\r\n\r\n\r\n\t//Навигация на странице контакты\r\n\tvar selectAddress = $('.select-address-js'),\r\n\tselectAddressItem = $('.select-address__item');\r\n\r\n\tif(selectAddress.length > 0) {\r\n\t\tselectAddress.slick({\r\n\t\t\tslidesToShow: 6,\r\n\t\t\tslidesToScroll: 1,\r\n\t\t\tinfinite: false,\r\n\t\t\tvariableWidth: true,\r\n\t\t\taccessibility: true,\r\n\t\t\tresponsive: [ \r\n\t\t\t    {\r\n\t\t\t      breakpoint: 768,\r\n\t\t\t      settings: {\r\n\t\t\t        variableWidth: true,\r\n\t\t\t        slidesToShow: 3\r\n\t\t\t      }\r\n\t\t\t    },\r\n\t\t\t    {\r\n\t\t\t      breakpoint: 480,\r\n\t\t\t      settings: {\r\n\t\t\t       \tfocusOnSelect: true,\r\n\t\t\t       \tcenterMode: true,\r\n\t\t\t       \tinitialSlide:3\r\n\t\t\t      }\r\n\t\t\t    }\r\n\t\t\t]   \r\n\t\t//Управление слайдами мышкой\t \r\n\t\t}).mousewheel(function(e) {\r\n\t\t    e.preventDefault();\r\n\t\t    if (e.deltaY < 0) {\r\n\t\t      $(this).slick('slickNext');\r\n\t\t    } else {\r\n\t\t      $(this).slick('slickPrev');\r\n\t\t    }\r\n\t\t});\r\n\r\n\r\n\t\tselectAddress.on('beforeChange', function(event, slick, currentSlide, nextSlide){\r\n\t\t  $('.select-address__item[data-slick-index=\"'+nextSlide+'\"]')\r\n\t\t .find('input[type=\"radio\"]')\r\n\t\t .focus()\r\n\t\t  .prop('checked', true);\r\n\t\t});\r\n\r\n\t\t//Для смены направления стрелки\r\n\t\tselectAddress.find('.slick-arrow').on('click',function(){\r\n\t\t\tvar btnDisabled = $(this).attr('aria-disabled'),\r\n\t\t\t\tbtnNext = selectAddress.find('.slick-next'),\r\n\t\t\t\tbtnPrev = $('.slick-prev');\r\n\r\n\t\t\tif(btnNext.hasClass('slick-disabled')) {\r\n\t\t\t\tbtnNext.css({'visibility':'hidden'});\r\n\t\t\t\tbtnPrev.css({'visibility':'visible'});\r\n\t\t\t}\r\n\r\n\t\t\tif(btnPrev.hasClass('slick-disabled')) {\r\n\t\t\t\tbtnPrev.css({'visibility':'hidden'});\r\n\t\t\t\tbtnNext.css({'visibility':'visible'});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\r\n\t\t//Активируем текущий элемент\r\n\t\tselectAddressItem.each(function(){\r\n\t\t\tif($(this).hasClass('slick-current')) {\r\n\t\t\t\t$(this).find('input[type=\"radio\"]').prop('checked', true);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//Активируем текущий элемент при клике на него\r\n\t\tselectAddressItem.on('click', function(){\r\n\t\t\t$(this).addClass('slick-current');\r\n\t\t\t$(this).siblings().removeClass('slick-current');\r\n\t\t\t$('slick-current').find(\"input[type='radio']\").focus();\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t//Яндекс карта\r\n\tvar contactMap = $('#contact-map');\r\n\tif(contactMap.length > 0) {\r\n\r\n\t\tfunction createMap(groups) {\r\n\r\n\t\t\tymaps.ready(yandexMapInit);\r\n\r\n\t\t\tfunction yandexMapInit() {\r\n\t\t\t\t//Центр карты по-умолчанию\r\n\t\t\t\tvar defaultcenterMap = [50.447472, 30.503022],\r\n\t\t\t\t\tzoomMap = 13;\r\n\r\n\t\t\t\tvar myMap = new ymaps.Map('contact-map', {\r\n\t\t\t\t\t\tcenter: defaultcenterMap,\r\n\t\t\t\t\t\tcontrols: []\r\n\t\t\t\t},{\r\n\t\t\t\t\tsuppressMapOpenBlock: true\r\n\t\t\t\t});\r\n\r\n\r\n\t\t\t\tfunction createMenuGroup (groups, cityName, geoZoomMap) {\r\n\t\t\t\t\r\n\t\t\t\t\tvar collection = new ymaps.GeoObjectCollection(null, { \r\n\t\t\t\t\t\ticonLayout: 'default#image',\r\n\t\t\t\t\t\ticonImageHref: 'img/ico-map.svg' \r\n\t\t\t\t\t});\r\n\t\r\n\t\t\t\t\t$('.contact-map__city').text(cityName);\r\n\t\t\t\t\t$('.contact-map__list').html('');\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (var j = 0, m = groups[cityName].length; j < m; j++) {\r\n\t\t\t\t\t\tcreateSubMenu(groups[cityName][j], collection);\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tvar setCenterMap = groups[cityName][0].setCenterMap,\r\n\t\t\t\t\t\tsetCenterMapMobile = groups[cityName][0].setCenterMapMobile;\r\n\t\r\n\t\t\t\t\tmyMap.geoObjects.removeAll();\t\r\n\t\t\t\t\tmyMap.geoObjects.add(collection);\r\n\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tfunction centerMap () {\r\n\t\t\t\t\t\tif($(window).innerWidth() <= 767) {\r\n\t\t\t\t\t\t\tmyMap.setCenter(setCenterMapMobile, 12);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmyMap.setCenter(setCenterMap, geoZoomMap);\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tcenterMap();\r\n\t\r\n\t\t\t\t\t$(window).on('resize', function() {\r\n\t\t\t\t\t\tcenterMap();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tfunction createSubMenu (item, collection) {\r\n\t\t\t\r\n\t\t\t\t\tif(item.name !== undefined) {\r\n\t\t\t\t\t\tvar submenuItem = $('<div class=\"contact-map__item\"><a class=\"contact-map__geo\" href=\"#\" data-id=\"' + item.id + '\">' + item.name + '</a></div>');\r\n\t\t\t\t\t\tsubmenuItem;\r\n\t\t\t\t\t\tsubmenuItem.appendTo('.contact-map__list');\r\n\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\tvar placemark = new ymaps.Placemark(item.center, {\r\n\t\t\t\t\t\thintContent: item.name,\r\n\t\t\t\t\t\topacity: 0\r\n\t\t\t\t\t}, {\r\n\t\t\t\t\t\tvisible: true\r\n\t\t\t\t\t});\r\n\t\t\t\t\tcollection.add(placemark);\r\n\t\r\n\t\r\n\t\t\t\t\t$('body').on('click', '.contact-map__geo', function(e) {\r\n\t\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tvar id = $(this).data('id');\r\n\t\r\n\t\t\t\t\t\tplacemark.options.set('visible', false);\r\n\t\r\n\t\t\t\t\t\tif(item.id == id) {\r\n\t\t\t\t\t\t\tif(placemark.options._options.visible === true) {\r\n\t\t\t\t\t\t\t\tplacemark.options.set('visible', false);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tplacemark.options.set('visible', true);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t});\r\n\t\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t//Фильтрация меток\r\n\t\t\t\t$('.select-address__item input[type=\"radio\"]').on('change', function() {\r\n\t\t\t\t\tvar cityName = $(this).val();\r\n\t\t\t\t\tconsole.log(groups);\r\n\t\t\t\t\tcreateMenuGroup(groups, cityName, 13);\t    \r\n\t\t\t\t});\t\r\n\r\n\t\t\t\tcreateMenuGroup(groups, 'Киров', zoomMap);  \r\n\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\twindow.createMap = createMap;\r\n\r\n\t}\r\n\r\n\r\n\t//Скрыть/показать поиск в мобильной версии\r\n\t$('.search-show').on('click', function() {\r\n\t\t$('.top-line__search').toggleClass('open');\r\n\t});\r\n\r\n\r\n\t$('.search__hide').on('click', function(){\r\n\t\t$('.top-line__search').removeClass('open');\r\n\t});\r\n\r\n\t//Выбор города - выпадалка\r\n\r\n\tvar selectCity = $('.select-city'),\r\n\t\tselectCurrent = $('.select-city__current-name');\r\n\r\n\tselectCity.on('click', function(){\r\n\t\t$(this).find('.select-city__list').toggleClass('open');\r\n\t});\r\n\r\n\tselectCity.find('.select-city__name').on('click', function(){\r\n\t\tselectCurrent.text($(this).text());\r\n\t});\r\n\r\n\r\n\r\n\t//Модальное окно галереи\r\n\tvar gallFancybox = $(\".gallery-fancybox\");\r\n\r\n\tif(gallFancybox.length > 0) {\r\n\r\n\t\tgallFancybox.on('click', function(){\r\n\t\t \tvar src = $(this).data('img'),\r\n\t\t \t\ttitle = $(this).data('title'),\r\n\t\t \t\tmodal = $('#gallery-modal');\t\r\n\r\n\t\t \t\tmodal.find('.gallery-modal__img').attr('src',src);\r\n\t\t \t\tmodal.find('.gallery-modal__title').text(title);\r\n\r\n\t\t \t$.fancybox.open({\r\n\t\t \t\tsrc: '#gallery-modal',\r\n\t\t \t\tautoSize: true,\r\n\t\t \t\tloop: true\r\n\t   \t\t});\r\n\t\t}); \t\r\n\t\r\n\t\t$('.gallery-modal__close').on('click', function(){\r\n\t\t\t$.fancybox.close();\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t//Модальное окно каталога\r\n\r\n\tvar catalogFancybox = $(\".catalog-fancybox\");\r\n\tvar catalogModal = $('#catalog-modal');\r\n\r\n\tif(catalogFancybox.length > 0) {\r\n\r\n\t\t$('body').on('click', '.catalog-fancybox', function(){\r\n\r\n\t\t\tvar windowTitle = catalogModal.find('.catalog-modal__title'),\r\n\t\t\t\twindowPrice = catalogModal.find('.catalog-modal__price span'),\r\n\t\t\t\twindowPriceDate = catalogModal.find('.catalog-modal__price-descr span'),\r\n\t\t\t\twindowImg = catalogModal.find('.catalog-modal__img img'),\r\n\t\t\t\twindowInfo = catalogModal.find('.catalog-modal__container'),\r\n\t\t\t\twindowData = $(this).attr('data-load'),\r\n\t\t\t\twindowNav = catalogModal.find('.catalog-modal__nav'),\r\n\t\t\t\twindowThumbs = catalogModal.find('.catalog-modal__thumbs');\r\n\t\t\t\t\r\n\t\t\tvar\tisNextPage = $(this).closest('.catalog-grid__col').next().find('.catalog-fancybox'),\r\n\t\t\t\tisPrevPage = $(this).closest('.catalog-grid__col').prev().find('.catalog-fancybox'),\r\n\t\t\t\tnextPage = '<a class=\"catalog-modal__next\" href=\"#\">К следующему проекту</a>',\r\n\t\t\t\tprevPage = '<a class=\"catalog-modal__prev\" href=\"#\">К предыдущему проекту</a>'\r\n\r\n\t\t\t\tconst isAttrDataLoadNext = typeof(isNextPage.attr('data-load')) !== 'undefined';\r\n\t\t\t\tconst isAttrDataLoadPrev = typeof(isPrevPage.attr('data-load')) !== 'undefined';\r\n\r\n\t\t\t\tif(isAttrDataLoadNext && isAttrDataLoadPrev) {\r\n\t\t\t\t\twindowNav.html(prevPage + nextPage)\r\n\t\t\t\t} else if(!isAttrDataLoadPrev && isAttrDataLoadNext){\r\n\t\t\t\t\twindowNav.html(nextPage)\r\n\t\t\t\t} else if(isAttrDataLoadPrev && !isAttrDataLoadNext){\r\n\t\t\t\t\twindowNav.html(prevPage)\r\n\t\t\t\t} else {\r\n\t\t\t\t\twindowNav.html('')\r\n\t\t\t\t}\r\n\r\n\t\t\t\twindowNav.find('.catalog-modal__next').on('click', function(){\t\r\n\t\t\t\t\tisNextPage.trigger('click');\r\n\t\t\t\t});\r\n\r\n\t\t\t\twindowNav.find('.catalog-modal__prev').on('click', function(){\t\r\n\t\t\t\t\tisPrevPage.trigger('click');\r\n\t\t\t\t});\r\n\r\n\t\t\t\tif(typeof(windowData) !== 'undefined') {\r\n\t\t\t\t\t$.fancybox.close({\r\n\t\t\t\t\t\tsrc: \"#catalog-modal\"\r\n\t\t\t\t\t})\r\n\t\r\n\t\t\t\t\t$.fancybox.open({\r\n\t\t\t\t\t\tsrc: \"#catalog-modal\",\r\n\t\t\t\t\t\tfullScreen: {\r\n\t\t\t\t\t\t\tautoStart: true\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\topts: {\r\n\t\t\t\t\t\t  beforeShow: function beforeShow() {\r\n\t\t\t\t\t\t\twindowInfo.css({\r\n\t\t\t\t\t\t\t  'opacity': 0\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t  },\r\n\t\t\t\t\t\t  afterShow: function afterShow(instance) {\r\n\t\t\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t\t  type: 'GET',\r\n\t\t\t\t\t\t\t  url: windowData,\r\n\t\t\t\t\t\t\t  dataType: 'json',\r\n\t\t\t\t\t\t\t  success: function success(data) {\r\n\t\t\t\t\t\t\t\twindowTitle.html(data.title);\r\n\t\t\t\t\t\t\t\twindowPrice.html(data.price);\r\n\t\t\t\t\t\t\t\twindowPriceDate.html(data.price_time);\r\n\t\t\t\t\t\t\t\twindowImg.attr('src', 'http://virazh.h6.srv43.ru' + data.photo[0].original);\r\n\t\t\t\t\t\t\t\twindowThumbs.html('');\r\n\t\r\n\t\t\t\t\t\t\t\tdata.photo.map(function(item, index) {\r\n\t\t\t\t\t\t\t\t\tvar active = index === 0 ? 'slick-current' : ''\r\n\t\t\t\t\t\t\t\t\twindowThumbs.append('<div class=\"catalog-modal__thumbs-item ' + active +'\"><a class=\"catalog-modal__thumbs-link\" href=\"' + 'http://virazh.h6.srv43.ru' + item.original +'\">' + '<img src=\"' + 'http://virazh.h6.srv43.ru' + item.thumb +'\"/></a></div>')\r\n\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\tconst catalogModalThumb = windowThumbs.find('.catalog-modal__thumbs-item');\r\n\r\n\t\t\t\t\t\t\t\tif(catalogModalThumb.length > 0) {\r\n\r\n\t\t\t\t\t\t\t\t\tcatalogModalThumb.on('click', function(e){\r\n\t\t\t\t\t\t\t\t\t\te.preventDefault()\r\n\t\t\t\t\t\t\t\t\t\t$(this).addClass('slick-current').siblings().removeClass('slick-current');\r\n\t\t\t\t\t\t\t\t\t\twindowImg.attr('src', $(this).children().attr('href'));\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\twindowThumbs.slick({\r\n\t\t\t\t\t\t\t\t\t\tinfinite: false,\r\n\t\t\t\t\t\t\t\t\t\tslidesToShow: 3,\r\n\t\t\t\t\t\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\t\t\t\t\t\tvertical: true,\r\n\t\t\t\t\t\t\t\t\t\tfocusOnSelect: true,\r\n\t\t\t\t\t\t\t\t\t\tprevArrow: '<button type=\"button\" class=\"catalog-modal__thumbs-prev\">Previous<\\/button>',\r\n\t\t\t\t\t\t\t\t\t\tnextArrow: '<button type=\"button\" class=\"catalog-modal__thumbs-next\">Next<\\/button>',\r\n\t\t\t\t\t\t\t\t\t\tresponsive: [{\r\n\t\t\t\t\t\t\t\t\t\t\tbreakpoint: 1199,\r\n\t\t\t\t\t\t\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvertical: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\tslidesToShow: 3,\r\n\t\t\t\t\t\t\t\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\tprevArrow: '<button type=\"button\" class=\"catalog-modal__thumbs-prev red\">Previous<\\/button>',\r\n\t\t\t\t\t\t\t\t\t\t\t\tnextArrow: '<button type=\"button\" class=\"catalog-modal__thumbs-next red\">Next<\\/button>',\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t  },{\r\n\t\t\t\t\t\t\t\t\t\t\tbreakpoint: 480,\r\n\t\t\t\t\t\t\t\t\t\t\tsettings: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvertical: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\tslidesToShow: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\tslidesToScroll: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\tprevArrow: '<button type=\"button\" class=\"catalog-modal__thumbs-prev red\">Previous<\\/button>',\r\n\t\t\t\t\t\t\t\t\t\t\t\tnextArrow: '<button type=\"button\" class=\"catalog-modal__thumbs-next red\">Next<\\/button>',\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t  }]\r\n\t\t\t\t\t\t\t\t\t}); \r\n\r\n\t\t\t\t\t\t\t\t\twindowThumbs.on('beforeChange', function(event, slick, currentSlide, nextSlide){\r\n\t\t\t\t\t\t\t\t\t\tconst hrefBigSlide = $(this).find(\"[data-slick-index=\" + nextSlide + \"] a\").attr('href');\r\n\t\t\t\t\t\t\t\t\t\twindowImg.attr('src', hrefBigSlide);\r\n\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\twindowThumbs.slick('setPosition');\r\n\t\t\t\t\t\t\t\t}\r\n\t\r\n\t\t\t\t\t\t\t\twindowImg.on('load', function () {\r\n\t\t\t\t\t\t\t\t\twindowInfo.css({\r\n\t\t\t\t\t\t\t\t\t  'opacity': 1\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\twindowImg.css({\r\n\t\t\t\t\t\t\t\t\t  'opacity': 1\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t});\r\n\t\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t  });\r\n\t\t\t\t}\t\t\r\n\t\t\t\t$('.catalog-modal__close').on('click', function(){\r\n\t\t\t\t\t$.fancybox.close();\r\n\t\t\t\t\twindowThumbs.slick('unslick');\r\n\t\t\t\t});\t\t\r\n\r\n\t\t\t\twindowThumbs.slick('unslick');\r\n\t\t});\r\n\r\n\t\t\r\n\t}\r\n\r\n\t//Запуск видео на внутренних страницах\r\n\t$('.video-play-js').on('click', function(e){\r\n\t\t\r\n\t\te.preventDefault();\r\n\r\n\t\tif($(this).hasClass('open')) {\r\n\t\t\treturn false;\r\n\t\t} else {\r\n\t\t\tvar videoTag = '<iframe src=\"' + $(this).data('video') + '?autoplay=1\" frameborder=\"0\" allow=\"autoplay; encrypted-media\" allowfullscreen></iframe>';\r\n\t\t\t$(this).addClass('open');\r\n\t\t\t$(this).find('.video-iframe-js').html(videoTag);\r\n\t\t}\r\n\t\t \r\n\t});\r\n\r\n  function scrollNav() {\r\n    $(\"a[href^='#nav']\").on(\"click\", function () {\r\n      var _href = $(this).attr(\"href\");\r\n\r\n      $(\"html, body\").animate({\r\n        scrollTop: $(_href).offset().top + \"px\"\r\n      });\r\n      return false;\r\n    });\r\n  }\r\n\r\n\t scrollNav();\r\n\r\n});"]}